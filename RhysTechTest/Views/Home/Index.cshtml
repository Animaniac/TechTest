@model IEnumerable<RhysTechTest.People>
@{
    ViewBag.Title = "Home Page";
}
<section class="mainContent" ng-app="rhysTechTest"  ng-controller="PeopleListController">
	<div>		
		<table>	
			<thead>
				<tr>
					<th>Name</th>
					<th>Authorised</th>
					<th>Enabled</th>
					<th>Colours</th>
				</tr>
			</thead>
			<tbody>
				<tr ng-repeat="person in people">
					<td><a href="#/update" ng-click="showPersonDetails(person.PersonId)">{{person.FirstName}} {{person.LastName}}</a></td>
					<td ng-class="{red: person.IsAuthorised == false, green: person.IsAuthorised == true}" >{{person.IsAuthorised?"Yes":"no"}}</td> 
					<td ng-class="{red: person.IsEnabled == false, green: person.IsEnabled == true}">{{person.IsEnabled?"Yes":"no"}}</td>
					<td>{{person.Colours}}</td>
				</tr>
			</tbody>						
		</table>
	</div>
</section>
<script>
	var rhysTechTest = angular.module("rhysTechTest", []);
	rhysTechTest.controller('PeopleListController', function ($scope, $http) {		
		$http.get("@Url.Action("GetAllPeople", "Home")")
			.then(function (response) {
				$scope.people = response.data;							
			});	
	});
</script>
<style>
	.red {
		color:red;
	}
	.green {
		color:green;
	}
</style>